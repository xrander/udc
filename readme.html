<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Olamide_Adu" />

<meta name="date" content="2023-12-09" />

<title>urban_data_classification</title>

<script src="udc_files/header-attrs-2.25/header-attrs.js"></script>
<script src="udc_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="udc_files/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="udc_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="udc_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="udc_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="udc_files/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="udc_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="udc_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="udc_files/navigation-1.1/tabsets.js"></script>
<script src="udc_files/navigation-1.1/codefolding.js"></script>
<link href="udc_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="udc_files/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">urban_data_classification</h1>
<h4 class="author">Olamide_Adu</h4>
<h4 class="date">2023-12-09</h4>

</div>


<p>I want to build a model for the classification of different part of
an <a
href="https://raw.githubusercontent.com/xrander/urban_data_classification/master/Data%20Science/Personal%20Project/urban_data_classification/urban_data.csv">urban
setting</a>. We can predict if an object is a car, tree, building, and
so on using this model.</p>
<div id="exploratory-data-analysis" class="section level1">
<h1>Exploratory Data Analysis</h1>
<p>The data is partitioned into test and train data already, but we will
combine and resplit to prevent class imbalance of the outcomes</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/xrander/urban_data_classification/master/Data%20Science/Personal%20Project/urban_data_classification/testing.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 507 Columns: 148
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr   (1): class
## dbl (147): BrdIndx, Area, Round, Bright, Compact, ShpIndx, Mean_G, Mean_R, M...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>train_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/xrander/urban_data_classification/master/Data%20Science/Personal%20Project/urban_data_classification/training.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 168 Columns: 148
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr   (1): class
## dbl (147): BrdIndx, Area, Round, Bright, Compact, ShpIndx, Mean_G, Mean_R, M...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>First we compare the training and test data to see if they are
similar, we join them then carry out the EDA properly.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">compare_df_cols_same</span>(test_data, train_data)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>urban_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(train_data, test_data) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="fu">mutate_if</span>(is.character, factor)</span></code></pre></div>
<p>We check for the data properties</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(urban_data)</span></code></pre></div>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">urban_data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">675</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">148</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">147</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="14%" />
<col width="8%" />
<col width="9%" />
<col width="41%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">class</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">9</td>
<td align="left">bui: 122, con: 116, gra: 112, tre: 106</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<colgroup>
<col width="14%" />
<col width="9%" />
<col width="13%" />
<col width="7%" />
<col width="7%" />
<col width="6%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="8%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">brd_indx</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.02</td>
<td align="right">0.62</td>
<td align="right">1.00</td>
<td align="right">1.57</td>
<td align="right">1.94</td>
<td align="right">2.38</td>
<td align="right">4.53</td>
<td align="left">▆▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">area</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">563.34</td>
<td align="right">693.52</td>
<td align="right">10.00</td>
<td align="right">160.50</td>
<td align="right">316.00</td>
<td align="right">679.50</td>
<td align="right">5767.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">round</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.21</td>
<td align="right">0.55</td>
<td align="right">0.00</td>
<td align="right">0.82</td>
<td align="right">1.18</td>
<td align="right">1.50</td>
<td align="right">3.52</td>
<td align="left">▂▇▅▁▁</td>
</tr>
<tr class="even">
<td align="left">bright</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">165.60</td>
<td align="right">62.85</td>
<td align="right">26.85</td>
<td align="right">127.68</td>
<td align="right">170.01</td>
<td align="right">224.31</td>
<td align="right">245.87</td>
<td align="left">▂▂▅▃▇</td>
</tr>
<tr class="odd">
<td align="left">compact</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.16</td>
<td align="right">0.83</td>
<td align="right">1.00</td>
<td align="right">1.62</td>
<td align="right">1.99</td>
<td align="right">2.48</td>
<td align="right">8.07</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">shp_indx</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.27</td>
<td align="right">0.71</td>
<td align="right">1.04</td>
<td align="right">1.71</td>
<td align="right">2.17</td>
<td align="right">2.68</td>
<td align="right">5.41</td>
<td align="left">▆▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">mean_g</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">165.12</td>
<td align="right">60.27</td>
<td align="right">22.91</td>
<td align="right">132.90</td>
<td align="right">189.41</td>
<td align="right">207.69</td>
<td align="right">246.35</td>
<td align="left">▃▂▁▇▇</td>
</tr>
<tr class="even">
<td align="left">mean_r</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">162.64</td>
<td align="right">72.88</td>
<td align="right">26.52</td>
<td align="right">99.19</td>
<td align="right">159.49</td>
<td align="right">237.26</td>
<td align="right">253.61</td>
<td align="left">▂▅▃▂▇</td>
</tr>
<tr class="odd">
<td align="left">mean_nir</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">169.05</td>
<td align="right">69.24</td>
<td align="right">31.11</td>
<td align="right">112.53</td>
<td align="right">167.83</td>
<td align="right">237.47</td>
<td align="right">253.63</td>
<td align="left">▂▃▅▂▇</td>
</tr>
<tr class="even">
<td align="left">sd_g</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10.58</td>
<td align="right">5.02</td>
<td align="right">3.55</td>
<td align="right">6.92</td>
<td align="right">8.94</td>
<td align="right">13.11</td>
<td align="right">36.40</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">sd_r</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9.31</td>
<td align="right">4.41</td>
<td align="right">2.02</td>
<td align="right">6.38</td>
<td align="right">8.10</td>
<td align="right">11.58</td>
<td align="right">37.45</td>
<td align="left">▇▅▁▁▁</td>
</tr>
<tr class="even">
<td align="left">sd_nir</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9.19</td>
<td align="right">4.34</td>
<td align="right">2.09</td>
<td align="right">6.48</td>
<td align="right">8.04</td>
<td align="right">11.09</td>
<td align="right">35.85</td>
<td align="left">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">lw</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.30</td>
<td align="right">1.71</td>
<td align="right">1.00</td>
<td align="right">1.40</td>
<td align="right">1.85</td>
<td align="right">2.57</td>
<td align="right">22.67</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.56</td>
<td align="right">0.15</td>
<td align="right">0.09</td>
<td align="right">0.46</td>
<td align="right">0.56</td>
<td align="right">0.67</td>
<td align="right">0.89</td>
<td align="left">▁▃▇▇▂</td>
</tr>
<tr class="odd">
<td align="left">rect</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.73</td>
<td align="right">0.14</td>
<td align="right">0.22</td>
<td align="right">0.64</td>
<td align="right">0.76</td>
<td align="right">0.84</td>
<td align="right">1.00</td>
<td align="left">▁▁▅▇▃</td>
</tr>
<tr class="even">
<td align="left">glcm2</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6.53</td>
<td align="right">0.41</td>
<td align="right">4.34</td>
<td align="right">6.34</td>
<td align="right">6.55</td>
<td align="right">6.76</td>
<td align="right">7.51</td>
<td align="left">▁▁▂▇▂</td>
</tr>
<tr class="odd">
<td align="left">dens</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.60</td>
<td align="right">0.34</td>
<td align="right">0.45</td>
<td align="right">1.38</td>
<td align="right">1.62</td>
<td align="right">1.83</td>
<td align="right">2.30</td>
<td align="left">▁▂▆▇▃</td>
</tr>
<tr class="even">
<td align="left">assym</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.62</td>
<td align="right">0.24</td>
<td align="right">0.02</td>
<td align="right">0.44</td>
<td align="right">0.66</td>
<td align="right">0.81</td>
<td align="right">1.00</td>
<td align="left">▂▃▅▇▆</td>
</tr>
<tr class="odd">
<td align="left">ndvi</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.18</td>
<td align="right">-0.38</td>
<td align="right">-0.10</td>
<td align="right">-0.06</td>
<td align="right">0.16</td>
<td align="right">0.41</td>
<td align="left">▁▇▃▃▃</td>
</tr>
<tr class="even">
<td align="left">bord_lngth</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">189.24</td>
<td align="right">108.94</td>
<td align="right">14.00</td>
<td align="right">105.00</td>
<td align="right">174.00</td>
<td align="right">255.00</td>
<td align="right">662.00</td>
<td align="left">▇▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm3</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2987.94</td>
<td align="right">890.95</td>
<td align="right">874.10</td>
<td align="right">2396.91</td>
<td align="right">2951.98</td>
<td align="right">3452.82</td>
<td align="right">7992.61</td>
<td align="left">▂▇▂▁▁</td>
</tr>
<tr class="even">
<td align="left">brd_indx_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.28</td>
<td align="right">0.83</td>
<td align="right">1.00</td>
<td align="right">1.62</td>
<td align="right">2.15</td>
<td align="right">2.80</td>
<td align="right">5.85</td>
<td align="left">▇▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">area_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1382.72</td>
<td align="right">1691.56</td>
<td align="right">25.00</td>
<td align="right">417.00</td>
<td align="right">908.00</td>
<td align="right">1796.50</td>
<td align="right">24295.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">round_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.37</td>
<td align="right">0.64</td>
<td align="right">0.02</td>
<td align="right">0.90</td>
<td align="right">1.34</td>
<td align="right">1.71</td>
<td align="right">4.10</td>
<td align="left">▃▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">bright_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">164.63</td>
<td align="right">61.77</td>
<td align="right">29.89</td>
<td align="right">126.29</td>
<td align="right">167.15</td>
<td align="right">222.27</td>
<td align="right">245.61</td>
<td align="left">▂▂▅▃▇</td>
</tr>
<tr class="even">
<td align="left">compact_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.30</td>
<td align="right">1.04</td>
<td align="right">1.00</td>
<td align="right">1.64</td>
<td align="right">2.06</td>
<td align="right">2.63</td>
<td align="right">9.13</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">shp_indx_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.59</td>
<td align="right">0.98</td>
<td align="right">1.04</td>
<td align="right">1.84</td>
<td align="right">2.47</td>
<td align="right">3.20</td>
<td align="right">8.71</td>
<td align="left">▇▆▁▁▁</td>
</tr>
<tr class="even">
<td align="left">mean_g_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">164.11</td>
<td align="right">58.65</td>
<td align="right">23.38</td>
<td align="right">133.92</td>
<td align="right">187.72</td>
<td align="right">205.18</td>
<td align="right">245.63</td>
<td align="left">▃▂▂▇▇</td>
</tr>
<tr class="odd">
<td align="left">mean_r_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.87</td>
<td align="right">71.46</td>
<td align="right">31.11</td>
<td align="right">98.68</td>
<td align="right">157.47</td>
<td align="right">234.82</td>
<td align="right">253.21</td>
<td align="left">▃▅▃▂▇</td>
</tr>
<tr class="even">
<td align="left">mean_nir_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">167.90</td>
<td align="right">67.86</td>
<td align="right">35.17</td>
<td align="right">111.81</td>
<td align="right">166.13</td>
<td align="right">235.22</td>
<td align="right">253.31</td>
<td align="left">▂▃▅▂▇</td>
</tr>
<tr class="odd">
<td align="left">sd_g_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">14.76</td>
<td align="right">8.27</td>
<td align="right">4.42</td>
<td align="right">8.79</td>
<td align="right">11.86</td>
<td align="right">18.22</td>
<td align="right">52.40</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td align="left">sd_r_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">13.46</td>
<td align="right">7.76</td>
<td align="right">2.74</td>
<td align="right">8.38</td>
<td align="right">11.26</td>
<td align="right">16.51</td>
<td align="right">50.80</td>
<td align="left">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">sd_nir_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">13.11</td>
<td align="right">7.59</td>
<td align="right">2.64</td>
<td align="right">8.28</td>
<td align="right">10.96</td>
<td align="right">15.96</td>
<td align="right">49.74</td>
<td align="left">▇▅▁▁▁</td>
</tr>
<tr class="even">
<td align="left">lw_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.68</td>
<td align="right">3.33</td>
<td align="right">1.00</td>
<td align="right">1.42</td>
<td align="right">1.92</td>
<td align="right">2.80</td>
<td align="right">55.68</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm1_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.66</td>
<td align="right">0.14</td>
<td align="right">0.09</td>
<td align="right">0.58</td>
<td align="right">0.68</td>
<td align="right">0.77</td>
<td align="right">0.92</td>
<td align="left">▁▁▅▇▆</td>
</tr>
<tr class="even">
<td align="left">rect_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.71</td>
<td align="right">0.16</td>
<td align="right">0.05</td>
<td align="right">0.62</td>
<td align="right">0.74</td>
<td align="right">0.84</td>
<td align="right">1.00</td>
<td align="left">▁▁▃▇▅</td>
</tr>
<tr class="odd">
<td align="left">glcm2_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.06</td>
<td align="right">0.52</td>
<td align="right">4.93</td>
<td align="right">6.72</td>
<td align="right">7.03</td>
<td align="right">7.36</td>
<td align="right">8.56</td>
<td align="left">▁▁▇▆▁</td>
</tr>
<tr class="even">
<td align="left">dens_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.59</td>
<td align="right">0.40</td>
<td align="right">0.29</td>
<td align="right">1.31</td>
<td align="right">1.63</td>
<td align="right">1.89</td>
<td align="right">2.41</td>
<td align="left">▁▂▆▇▃</td>
</tr>
<tr class="odd">
<td align="left">assym_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.64</td>
<td align="right">0.24</td>
<td align="right">0.02</td>
<td align="right">0.47</td>
<td align="right">0.65</td>
<td align="right">0.85</td>
<td align="right">1.00</td>
<td align="left">▁▃▆▆▇</td>
</tr>
<tr class="even">
<td align="left">ndvi_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.17</td>
<td align="right">-0.37</td>
<td align="right">-0.10</td>
<td align="right">-0.06</td>
<td align="right">0.16</td>
<td align="right">0.39</td>
<td align="left">▁▇▃▃▃</td>
</tr>
<tr class="odd">
<td align="left">bord_lngth_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">354.24</td>
<td align="right">237.55</td>
<td align="right">24.00</td>
<td align="right">177.00</td>
<td align="right">304.00</td>
<td align="right">491.00</td>
<td align="right">2620.00</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm3_40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2183.81</td>
<td align="right">805.25</td>
<td align="right">638.56</td>
<td align="right">1571.11</td>
<td align="right">2112.17</td>
<td align="right">2670.10</td>
<td align="right">6262.92</td>
<td align="left">▅▇▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">brd_indx_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.49</td>
<td align="right">0.98</td>
<td align="right">1.00</td>
<td align="right">1.69</td>
<td align="right">2.34</td>
<td align="right">3.14</td>
<td align="right">5.95</td>
<td align="left">▇▇▅▂▁</td>
</tr>
<tr class="even">
<td align="left">area_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2285.33</td>
<td align="right">2493.53</td>
<td align="right">30.00</td>
<td align="right">744.50</td>
<td align="right">1499.00</td>
<td align="right">2830.00</td>
<td align="right">24295.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">round_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.48</td>
<td align="right">0.68</td>
<td align="right">0.02</td>
<td align="right">0.99</td>
<td align="right">1.42</td>
<td align="right">1.88</td>
<td align="right">4.20</td>
<td align="left">▃▇▅▁▁</td>
</tr>
<tr class="even">
<td align="left">bright_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">164.17</td>
<td align="right">60.54</td>
<td align="right">29.89</td>
<td align="right">125.68</td>
<td align="right">167.06</td>
<td align="right">221.83</td>
<td align="right">245.30</td>
<td align="left">▂▂▅▅▇</td>
</tr>
<tr class="odd">
<td align="left">compact_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.47</td>
<td align="right">1.18</td>
<td align="right">1.00</td>
<td align="right">1.66</td>
<td align="right">2.12</td>
<td align="right">2.91</td>
<td align="right">8.54</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td align="left">shp_indx_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.82</td>
<td align="right">1.12</td>
<td align="right">1.05</td>
<td align="right">1.90</td>
<td align="right">2.72</td>
<td align="right">3.51</td>
<td align="right">7.72</td>
<td align="left">▇▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">mean_g_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">163.52</td>
<td align="right">57.41</td>
<td align="right">23.38</td>
<td align="right">129.70</td>
<td align="right">187.10</td>
<td align="right">203.96</td>
<td align="right">244.89</td>
<td align="left">▂▂▂▇▆</td>
</tr>
<tr class="even">
<td align="left">mean_r_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.57</td>
<td align="right">69.79</td>
<td align="right">31.11</td>
<td align="right">100.78</td>
<td align="right">157.46</td>
<td align="right">233.98</td>
<td align="right">253.21</td>
<td align="left">▃▅▃▂▇</td>
</tr>
<tr class="odd">
<td align="left">mean_nir_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">167.41</td>
<td align="right">66.27</td>
<td align="right">35.17</td>
<td align="right">113.25</td>
<td align="right">166.64</td>
<td align="right">233.58</td>
<td align="right">253.31</td>
<td align="left">▃▃▅▂▇</td>
</tr>
<tr class="even">
<td align="left">sd_g_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">18.06</td>
<td align="right">10.21</td>
<td align="right">4.42</td>
<td align="right">10.24</td>
<td align="right">14.44</td>
<td align="right">24.34</td>
<td align="right">57.08</td>
<td align="left">▇▃▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">sd_r_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">16.76</td>
<td align="right">9.78</td>
<td align="right">2.74</td>
<td align="right">9.89</td>
<td align="right">14.45</td>
<td align="right">20.85</td>
<td align="right">58.32</td>
<td align="left">▇▆▂▁▁</td>
</tr>
<tr class="even">
<td align="left">sd_nir_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">16.24</td>
<td align="right">9.54</td>
<td align="right">2.64</td>
<td align="right">9.80</td>
<td align="right">13.76</td>
<td align="right">20.44</td>
<td align="right">58.44</td>
<td align="left">▇▆▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">lw_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.74</td>
<td align="right">3.34</td>
<td align="right">1.00</td>
<td align="right">1.40</td>
<td align="right">1.95</td>
<td align="right">2.93</td>
<td align="right">52.59</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm1_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.72</td>
<td align="right">0.13</td>
<td align="right">0.09</td>
<td align="right">0.64</td>
<td align="right">0.74</td>
<td align="right">0.82</td>
<td align="right">0.94</td>
<td align="left">▁▁▃▇▇</td>
</tr>
<tr class="odd">
<td align="left">rect_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.69</td>
<td align="right">0.17</td>
<td align="right">0.04</td>
<td align="right">0.59</td>
<td align="right">0.72</td>
<td align="right">0.82</td>
<td align="right">1.00</td>
<td align="left">▁▁▃▇▅</td>
</tr>
<tr class="even">
<td align="left">glcm2_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.35</td>
<td align="right">0.61</td>
<td align="right">5.29</td>
<td align="right">6.92</td>
<td align="right">7.29</td>
<td align="right">7.78</td>
<td align="right">9.03</td>
<td align="left">▁▂▇▅▁</td>
</tr>
<tr class="odd">
<td align="left">dens_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.57</td>
<td align="right">0.41</td>
<td align="right">0.33</td>
<td align="right">1.30</td>
<td align="right">1.63</td>
<td align="right">1.88</td>
<td align="right">2.41</td>
<td align="left">▁▃▆▇▃</td>
</tr>
<tr class="even">
<td align="left">assym_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.65</td>
<td align="right">0.24</td>
<td align="right">0.03</td>
<td align="right">0.47</td>
<td align="right">0.68</td>
<td align="right">0.86</td>
<td align="right">1.00</td>
<td align="left">▁▃▆▆▇</td>
</tr>
<tr class="odd">
<td align="left">ndvi_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.16</td>
<td align="right">-0.36</td>
<td align="right">-0.10</td>
<td align="right">-0.05</td>
<td align="right">0.15</td>
<td align="right">0.39</td>
<td align="left">▁▇▃▃▂</td>
</tr>
<tr class="even">
<td align="left">bord_lngth_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">507.03</td>
<td align="right">354.00</td>
<td align="right">24.00</td>
<td align="right">236.00</td>
<td align="right">438.00</td>
<td align="right">698.00</td>
<td align="right">3202.00</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm3_60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1786.31</td>
<td align="right">712.56</td>
<td align="right">443.22</td>
<td align="right">1250.85</td>
<td align="right">1708.19</td>
<td align="right">2200.70</td>
<td align="right">5148.05</td>
<td align="left">▆▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">brd_indx_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.74</td>
<td align="right">1.14</td>
<td align="right">1.00</td>
<td align="right">1.83</td>
<td align="right">2.62</td>
<td align="right">3.49</td>
<td align="right">6.76</td>
<td align="left">▇▇▅▂▁</td>
</tr>
<tr class="odd">
<td align="left">area_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3408.93</td>
<td align="right">3791.29</td>
<td align="right">30.00</td>
<td align="right">1180.50</td>
<td align="right">2208.00</td>
<td align="right">4158.00</td>
<td align="right">42018.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">round_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.58</td>
<td align="right">0.71</td>
<td align="right">0.09</td>
<td align="right">1.08</td>
<td align="right">1.55</td>
<td align="right">1.98</td>
<td align="right">5.84</td>
<td align="left">▅▇▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">bright_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">162.60</td>
<td align="right">59.64</td>
<td align="right">31.86</td>
<td align="right">123.53</td>
<td align="right">165.32</td>
<td align="right">219.62</td>
<td align="right">245.30</td>
<td align="left">▃▂▆▅▇</td>
</tr>
<tr class="even">
<td align="left">compact_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.67</td>
<td align="right">1.46</td>
<td align="right">1.00</td>
<td align="right">1.72</td>
<td align="right">2.30</td>
<td align="right">3.18</td>
<td align="right">17.15</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">shp_indx_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.11</td>
<td align="right">1.31</td>
<td align="right">1.05</td>
<td align="right">2.09</td>
<td align="right">2.95</td>
<td align="right">3.97</td>
<td align="right">7.95</td>
<td align="left">▇▇▅▁▁</td>
</tr>
<tr class="even">
<td align="left">mean_g_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.81</td>
<td align="right">56.16</td>
<td align="right">24.05</td>
<td align="right">124.25</td>
<td align="right">184.43</td>
<td align="right">202.63</td>
<td align="right">244.89</td>
<td align="left">▂▂▂▇▆</td>
</tr>
<tr class="odd">
<td align="left">mean_r_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">160.10</td>
<td align="right">68.41</td>
<td align="right">32.96</td>
<td align="right">101.18</td>
<td align="right">156.39</td>
<td align="right">230.99</td>
<td align="right">253.21</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="even">
<td align="left">mean_nir_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">165.87</td>
<td align="right">65.04</td>
<td align="right">37.76</td>
<td align="right">111.81</td>
<td align="right">165.31</td>
<td align="right">230.98</td>
<td align="right">253.31</td>
<td align="left">▃▃▅▃▇</td>
</tr>
<tr class="odd">
<td align="left">sd_g_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20.93</td>
<td align="right">12.02</td>
<td align="right">4.42</td>
<td align="right">11.57</td>
<td align="right">16.71</td>
<td align="right">28.47</td>
<td align="right">63.46</td>
<td align="left">▇▅▃▁▁</td>
</tr>
<tr class="even">
<td align="left">sd_r_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">19.79</td>
<td align="right">11.38</td>
<td align="right">2.74</td>
<td align="right">11.52</td>
<td align="right">16.79</td>
<td align="right">25.46</td>
<td align="right">66.77</td>
<td align="left">▇▆▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">sd_nir_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">19.15</td>
<td align="right">11.04</td>
<td align="right">2.65</td>
<td align="right">11.03</td>
<td align="right">16.37</td>
<td align="right">24.25</td>
<td align="right">65.38</td>
<td align="left">▇▆▂▁▁</td>
</tr>
<tr class="even">
<td align="left">lw_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.86</td>
<td align="right">3.70</td>
<td align="right">1.00</td>
<td align="right">1.42</td>
<td align="right">1.97</td>
<td align="right">2.76</td>
<td align="right">56.91</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm1_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.75</td>
<td align="right">0.12</td>
<td align="right">0.20</td>
<td align="right">0.69</td>
<td align="right">0.78</td>
<td align="right">0.84</td>
<td align="right">0.94</td>
<td align="left">▁▁▂▇▇</td>
</tr>
<tr class="even">
<td align="left">rect_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.67</td>
<td align="right">0.18</td>
<td align="right">0.00</td>
<td align="right">0.56</td>
<td align="right">0.69</td>
<td align="right">0.81</td>
<td align="right">1.00</td>
<td align="left">▁▂▅▇▅</td>
</tr>
<tr class="odd">
<td align="left">glcm2_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.59</td>
<td align="right">0.68</td>
<td align="right">5.29</td>
<td align="right">7.08</td>
<td align="right">7.50</td>
<td align="right">8.08</td>
<td align="right">9.19</td>
<td align="left">▁▂▇▅▃</td>
</tr>
<tr class="even">
<td align="left">dens_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.54</td>
<td align="right">0.43</td>
<td align="right">0.33</td>
<td align="right">1.23</td>
<td align="right">1.57</td>
<td align="right">1.87</td>
<td align="right">2.41</td>
<td align="left">▁▃▇▇▃</td>
</tr>
<tr class="odd">
<td align="left">assym_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.65</td>
<td align="right">0.25</td>
<td align="right">0.03</td>
<td align="right">0.46</td>
<td align="right">0.70</td>
<td align="right">0.86</td>
<td align="right">1.00</td>
<td align="left">▁▃▅▇▇</td>
</tr>
<tr class="even">
<td align="left">ndvi_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.15</td>
<td align="right">-0.36</td>
<td align="right">-0.09</td>
<td align="right">-0.05</td>
<td align="right">0.14</td>
<td align="right">0.38</td>
<td align="left">▁▇▅▃▂</td>
</tr>
<tr class="odd">
<td align="left">bord_lngth_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">698.64</td>
<td align="right">546.89</td>
<td align="right">28.00</td>
<td align="right">311.00</td>
<td align="right">574.00</td>
<td align="right">920.00</td>
<td align="right">4608.00</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm3_80</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1537.06</td>
<td align="right">635.13</td>
<td align="right">434.86</td>
<td align="right">1051.66</td>
<td align="right">1427.74</td>
<td align="right">1897.52</td>
<td align="right">4946.90</td>
<td align="left">▇▇▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">brd_indx_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.98</td>
<td align="right">1.29</td>
<td align="right">1.00</td>
<td align="right">1.89</td>
<td align="right">2.78</td>
<td align="right">3.95</td>
<td align="right">7.29</td>
<td align="left">▇▇▅▂▁</td>
</tr>
<tr class="even">
<td align="left">area_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4664.84</td>
<td align="right">4822.17</td>
<td align="right">66.00</td>
<td align="right">1635.50</td>
<td align="right">3113.00</td>
<td align="right">6138.00</td>
<td align="right">42018.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">round_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.67</td>
<td align="right">0.75</td>
<td align="right">0.09</td>
<td align="right">1.16</td>
<td align="right">1.64</td>
<td align="right">2.09</td>
<td align="right">5.08</td>
<td align="left">▃▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">bright_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">162.25</td>
<td align="right">58.93</td>
<td align="right">31.86</td>
<td align="right">122.59</td>
<td align="right">164.54</td>
<td align="right">218.84</td>
<td align="right">244.85</td>
<td align="left">▃▃▆▅▇</td>
</tr>
<tr class="odd">
<td align="left">compact_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.86</td>
<td align="right">1.67</td>
<td align="right">1.00</td>
<td align="right">1.73</td>
<td align="right">2.48</td>
<td align="right">3.39</td>
<td align="right">18.51</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">shp_indx_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.38</td>
<td align="right">1.48</td>
<td align="right">1.05</td>
<td align="right">2.13</td>
<td align="right">3.17</td>
<td align="right">4.38</td>
<td align="right">7.94</td>
<td align="left">▇▇▆▂▁</td>
</tr>
<tr class="odd">
<td align="left">mean_g_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">162.09</td>
<td align="right">54.60</td>
<td align="right">24.05</td>
<td align="right">124.09</td>
<td align="right">183.51</td>
<td align="right">202.37</td>
<td align="right">241.25</td>
<td align="left">▂▃▂▇▇</td>
</tr>
<tr class="even">
<td align="left">mean_r_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">159.51</td>
<td align="right">67.72</td>
<td align="right">32.96</td>
<td align="right">100.77</td>
<td align="right">155.64</td>
<td align="right">230.18</td>
<td align="right">253.21</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="odd">
<td align="left">mean_nir_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">165.17</td>
<td align="right">64.37</td>
<td align="right">37.76</td>
<td align="right">109.53</td>
<td align="right">164.30</td>
<td align="right">229.18</td>
<td align="right">253.31</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="even">
<td align="left">sd_g_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">23.61</td>
<td align="right">13.32</td>
<td align="right">4.42</td>
<td align="right">12.82</td>
<td align="right">19.04</td>
<td align="right">32.21</td>
<td align="right">63.51</td>
<td align="left">▇▆▃▂▁</td>
</tr>
<tr class="odd">
<td align="left">sd_r_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">22.23</td>
<td align="right">12.22</td>
<td align="right">2.74</td>
<td align="right">12.87</td>
<td align="right">19.50</td>
<td align="right">29.20</td>
<td align="right">66.77</td>
<td align="left">▇▇▃▂▁</td>
</tr>
<tr class="even">
<td align="left">sd_nir_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">21.48</td>
<td align="right">11.74</td>
<td align="right">2.65</td>
<td align="right">12.46</td>
<td align="right">18.78</td>
<td align="right">28.23</td>
<td align="right">65.38</td>
<td align="left">▇▇▃▂▁</td>
</tr>
<tr class="odd">
<td align="left">lw_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.96</td>
<td align="right">4.43</td>
<td align="right">1.00</td>
<td align="right">1.38</td>
<td align="right">1.88</td>
<td align="right">2.79</td>
<td align="right">56.91</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm1_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.78</td>
<td align="right">0.11</td>
<td align="right">0.20</td>
<td align="right">0.73</td>
<td align="right">0.80</td>
<td align="right">0.87</td>
<td align="right">0.96</td>
<td align="left">▁▁▂▆▇</td>
</tr>
<tr class="odd">
<td align="left">rect_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.64</td>
<td align="right">0.19</td>
<td align="right">0.01</td>
<td align="right">0.50</td>
<td align="right">0.67</td>
<td align="right">0.79</td>
<td align="right">1.00</td>
<td align="left">▁▂▆▇▅</td>
</tr>
<tr class="even">
<td align="left">glcm2_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.78</td>
<td align="right">0.73</td>
<td align="right">5.69</td>
<td align="right">7.24</td>
<td align="right">7.74</td>
<td align="right">8.33</td>
<td align="right">9.57</td>
<td align="left">▁▅▇▅▂</td>
</tr>
<tr class="odd">
<td align="left">dens_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.51</td>
<td align="right">0.45</td>
<td align="right">0.33</td>
<td align="right">1.18</td>
<td align="right">1.52</td>
<td align="right">1.88</td>
<td align="right">2.41</td>
<td align="left">▁▅▇▇▅</td>
</tr>
<tr class="even">
<td align="left">assym_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.65</td>
<td align="right">0.25</td>
<td align="right">0.03</td>
<td align="right">0.46</td>
<td align="right">0.68</td>
<td align="right">0.86</td>
<td align="right">1.00</td>
<td align="left">▂▃▅▆▇</td>
</tr>
<tr class="odd">
<td align="left">ndvi_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.15</td>
<td align="right">-0.36</td>
<td align="right">-0.09</td>
<td align="right">-0.04</td>
<td align="right">0.14</td>
<td align="right">0.38</td>
<td align="left">▁▇▅▅▂</td>
</tr>
<tr class="even">
<td align="left">bord_lngth_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">906.15</td>
<td align="right">718.20</td>
<td align="right">34.00</td>
<td align="right">388.00</td>
<td align="right">726.00</td>
<td align="right">1286.00</td>
<td align="right">4858.00</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm3_100</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1337.81</td>
<td align="right">573.05</td>
<td align="right">298.23</td>
<td align="right">919.23</td>
<td align="right">1243.63</td>
<td align="right">1619.44</td>
<td align="right">3825.80</td>
<td align="left">▅▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">brd_indx_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.20</td>
<td align="right">1.41</td>
<td align="right">1.00</td>
<td align="right">2.00</td>
<td align="right">3.01</td>
<td align="right">4.12</td>
<td align="right">7.84</td>
<td align="left">▇▇▆▂▁</td>
</tr>
<tr class="odd">
<td align="left">area_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6084.20</td>
<td align="right">6124.13</td>
<td align="right">66.00</td>
<td align="right">2217.50</td>
<td align="right">4174.00</td>
<td align="right">7980.50</td>
<td align="right">51578.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">round_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.74</td>
<td align="right">0.79</td>
<td align="right">0.09</td>
<td align="right">1.25</td>
<td align="right">1.70</td>
<td align="right">2.16</td>
<td align="right">5.87</td>
<td align="left">▃▇▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">bright_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.76</td>
<td align="right">58.16</td>
<td align="right">31.86</td>
<td align="right">120.71</td>
<td align="right">162.90</td>
<td align="right">218.13</td>
<td align="right">244.85</td>
<td align="left">▂▃▆▅▇</td>
</tr>
<tr class="even">
<td align="left">compact_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.98</td>
<td align="right">1.84</td>
<td align="right">1.00</td>
<td align="right">1.80</td>
<td align="right">2.56</td>
<td align="right">3.50</td>
<td align="right">18.51</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">shp_indx_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.60</td>
<td align="right">1.62</td>
<td align="right">1.05</td>
<td align="right">2.33</td>
<td align="right">3.44</td>
<td align="right">4.66</td>
<td align="right">12.06</td>
<td align="left">▇▇▂▁▁</td>
</tr>
<tr class="even">
<td align="left">mean_g_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.99</td>
<td align="right">53.21</td>
<td align="right">24.05</td>
<td align="right">125.27</td>
<td align="right">181.47</td>
<td align="right">202.04</td>
<td align="right">241.25</td>
<td align="left">▂▃▂▇▇</td>
</tr>
<tr class="odd">
<td align="left">mean_r_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">158.93</td>
<td align="right">66.96</td>
<td align="right">32.96</td>
<td align="right">100.54</td>
<td align="right">152.89</td>
<td align="right">229.76</td>
<td align="right">253.21</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="even">
<td align="left">mean_nir_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">164.37</td>
<td align="right">63.53</td>
<td align="right">37.76</td>
<td align="right">109.74</td>
<td align="right">159.77</td>
<td align="right">228.74</td>
<td align="right">253.31</td>
<td align="left">▃▃▆▃▇</td>
</tr>
<tr class="odd">
<td align="left">sd_g_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">25.69</td>
<td align="right">14.29</td>
<td align="right">4.42</td>
<td align="right">13.68</td>
<td align="right">21.96</td>
<td align="right">35.39</td>
<td align="right">64.86</td>
<td align="left">▇▆▃▃▁</td>
</tr>
<tr class="even">
<td align="left">sd_r_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">23.88</td>
<td align="right">12.36</td>
<td align="right">2.74</td>
<td align="right">14.07</td>
<td align="right">21.20</td>
<td align="right">32.25</td>
<td align="right">61.97</td>
<td align="left">▆▇▅▂▁</td>
</tr>
<tr class="odd">
<td align="left">sd_nir_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">23.12</td>
<td align="right">11.93</td>
<td align="right">2.65</td>
<td align="right">13.39</td>
<td align="right">20.93</td>
<td align="right">31.14</td>
<td align="right">61.34</td>
<td align="left">▆▇▅▂▁</td>
</tr>
<tr class="even">
<td align="left">lw_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.92</td>
<td align="right">4.81</td>
<td align="right">1.00</td>
<td align="right">1.38</td>
<td align="right">1.87</td>
<td align="right">2.75</td>
<td align="right">56.91</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm1_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.80</td>
<td align="right">0.11</td>
<td align="right">0.20</td>
<td align="right">0.75</td>
<td align="right">0.82</td>
<td align="right">0.88</td>
<td align="right">0.97</td>
<td align="left">▁▁▁▆▇</td>
</tr>
<tr class="even">
<td align="left">rect_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.63</td>
<td align="right">0.19</td>
<td align="right">0.06</td>
<td align="right">0.49</td>
<td align="right">0.65</td>
<td align="right">0.78</td>
<td align="right">1.00</td>
<td align="left">▁▃▆▇▅</td>
</tr>
<tr class="odd">
<td align="left">glcm2_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.91</td>
<td align="right">0.75</td>
<td align="right">5.69</td>
<td align="right">7.32</td>
<td align="right">7.89</td>
<td align="right">8.52</td>
<td align="right">9.57</td>
<td align="left">▁▅▇▆▃</td>
</tr>
<tr class="even">
<td align="left">dens_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.51</td>
<td align="right">0.45</td>
<td align="right">0.23</td>
<td align="right">1.20</td>
<td align="right">1.52</td>
<td align="right">1.86</td>
<td align="right">2.41</td>
<td align="left">▁▃▇▇▅</td>
</tr>
<tr class="odd">
<td align="left">assym_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.64</td>
<td align="right">0.25</td>
<td align="right">0.03</td>
<td align="right">0.46</td>
<td align="right">0.67</td>
<td align="right">0.85</td>
<td align="right">1.00</td>
<td align="left">▂▃▅▆▇</td>
</tr>
<tr class="even">
<td align="left">ndvi_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.14</td>
<td align="right">-0.36</td>
<td align="right">-0.08</td>
<td align="right">-0.03</td>
<td align="right">0.15</td>
<td align="right">0.37</td>
<td align="left">▁▇▅▅▂</td>
</tr>
<tr class="odd">
<td align="left">bord_lngth_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1116.84</td>
<td align="right">885.77</td>
<td align="right">34.00</td>
<td align="right">492.00</td>
<td align="right">870.00</td>
<td align="right">1511.00</td>
<td align="right">6236.00</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm3_120</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1208.74</td>
<td align="right">561.57</td>
<td align="right">211.27</td>
<td align="right">798.21</td>
<td align="right">1120.33</td>
<td align="right">1474.08</td>
<td align="right">3806.36</td>
<td align="left">▆▇▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">brd_indx_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.35</td>
<td align="right">1.47</td>
<td align="right">1.00</td>
<td align="right">2.14</td>
<td align="right">3.28</td>
<td align="right">4.38</td>
<td align="right">7.84</td>
<td align="left">▇▇▆▃▁</td>
</tr>
<tr class="even">
<td align="left">area_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7315.05</td>
<td align="right">7422.02</td>
<td align="right">66.00</td>
<td align="right">2670.50</td>
<td align="right">5243.00</td>
<td align="right">9203.50</td>
<td align="right">51578.00</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">round_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.78</td>
<td align="right">0.80</td>
<td align="right">0.09</td>
<td align="right">1.26</td>
<td align="right">1.77</td>
<td align="right">2.18</td>
<td align="right">5.87</td>
<td align="left">▃▇▂▁▁</td>
</tr>
<tr class="even">
<td align="left">bright_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.34</td>
<td align="right">58.01</td>
<td align="right">31.86</td>
<td align="right">120.94</td>
<td align="right">163.38</td>
<td align="right">216.26</td>
<td align="right">244.85</td>
<td align="left">▂▃▆▅▇</td>
</tr>
<tr class="odd">
<td align="left">compact_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.09</td>
<td align="right">1.95</td>
<td align="right">1.00</td>
<td align="right">1.87</td>
<td align="right">2.64</td>
<td align="right">3.69</td>
<td align="right">18.51</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">shp_indx_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.78</td>
<td align="right">1.71</td>
<td align="right">1.05</td>
<td align="right">2.44</td>
<td align="right">3.65</td>
<td align="right">4.84</td>
<td align="right">12.26</td>
<td align="left">▇▇▃▁▁</td>
</tr>
<tr class="odd">
<td align="left">mean_g_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">161.61</td>
<td align="right">52.69</td>
<td align="right">24.05</td>
<td align="right">126.68</td>
<td align="right">179.21</td>
<td align="right">201.72</td>
<td align="right">241.25</td>
<td align="left">▂▂▂▇▇</td>
</tr>
<tr class="even">
<td align="left">mean_r_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">158.54</td>
<td align="right">66.68</td>
<td align="right">32.96</td>
<td align="right">102.73</td>
<td align="right">154.13</td>
<td align="right">229.00</td>
<td align="right">253.21</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="odd">
<td align="left">mean_nir_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">163.86</td>
<td align="right">63.29</td>
<td align="right">37.76</td>
<td align="right">111.97</td>
<td align="right">160.37</td>
<td align="right">227.67</td>
<td align="right">253.31</td>
<td align="left">▃▅▅▃▇</td>
</tr>
<tr class="even">
<td align="left">sd_g_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">27.11</td>
<td align="right">14.89</td>
<td align="right">4.42</td>
<td align="right">14.12</td>
<td align="right">22.99</td>
<td align="right">39.50</td>
<td align="right">68.32</td>
<td align="left">▇▆▃▃▁</td>
</tr>
<tr class="odd">
<td align="left">sd_r_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">25.22</td>
<td align="right">12.83</td>
<td align="right">2.74</td>
<td align="right">15.02</td>
<td align="right">22.69</td>
<td align="right">34.31</td>
<td align="right">61.97</td>
<td align="left">▅▇▅▃▁</td>
</tr>
<tr class="even">
<td align="left">sd_nir_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">24.39</td>
<td align="right">12.36</td>
<td align="right">2.65</td>
<td align="right">14.29</td>
<td align="right">22.19</td>
<td align="right">33.29</td>
<td align="right">61.34</td>
<td align="left">▆▇▆▃▁</td>
</tr>
<tr class="odd">
<td align="left">lw_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.97</td>
<td align="right">5.25</td>
<td align="right">1.00</td>
<td align="right">1.38</td>
<td align="right">1.87</td>
<td align="right">2.62</td>
<td align="right">64.70</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">glcm1_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.81</td>
<td align="right">0.11</td>
<td align="right">0.20</td>
<td align="right">0.76</td>
<td align="right">0.83</td>
<td align="right">0.89</td>
<td align="right">0.97</td>
<td align="left">▁▁▁▅▇</td>
</tr>
<tr class="odd">
<td align="left">rect_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.61</td>
<td align="right">0.20</td>
<td align="right">0.10</td>
<td align="right">0.46</td>
<td align="right">0.63</td>
<td align="right">0.76</td>
<td align="right">1.00</td>
<td align="left">▁▅▇▇▃</td>
</tr>
<tr class="even">
<td align="left">glcm2_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.99</td>
<td align="right">0.77</td>
<td align="right">5.69</td>
<td align="right">7.36</td>
<td align="right">7.94</td>
<td align="right">8.64</td>
<td align="right">9.57</td>
<td align="left">▁▅▇▇▅</td>
</tr>
<tr class="odd">
<td align="left">dens_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.49</td>
<td align="right">0.46</td>
<td align="right">0.23</td>
<td align="right">1.19</td>
<td align="right">1.49</td>
<td align="right">1.85</td>
<td align="right">2.41</td>
<td align="left">▁▅▇▇▅</td>
</tr>
<tr class="even">
<td align="left">assym_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.64</td>
<td align="right">0.25</td>
<td align="right">0.03</td>
<td align="right">0.46</td>
<td align="right">0.68</td>
<td align="right">0.85</td>
<td align="right">1.00</td>
<td align="left">▂▃▅▆▇</td>
</tr>
<tr class="odd">
<td align="left">ndvi_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.14</td>
<td align="right">-0.36</td>
<td align="right">-0.08</td>
<td align="right">-0.03</td>
<td align="right">0.14</td>
<td align="right">0.37</td>
<td align="left">▁▇▆▅▂</td>
</tr>
<tr class="even">
<td align="left">bord_lngth_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1295.32</td>
<td align="right">1062.15</td>
<td align="right">34.00</td>
<td align="right">542.00</td>
<td align="right">1050.00</td>
<td align="right">1746.00</td>
<td align="right">8896.00</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">glcm3_140</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1145.13</td>
<td align="right">556.72</td>
<td align="right">211.27</td>
<td align="right">758.28</td>
<td align="right">1054.67</td>
<td align="right">1410.47</td>
<td align="right">3806.36</td>
<td align="left">▇▇▂▁▁</td>
</tr>
</tbody>
</table>
<p>There are no missing data, we check for duplicates</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">duplicated</span>(urban_data))</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>urban_data <span class="ot">&lt;-</span> urban_data[<span class="sc">!</span><span class="fu">duplicated</span>(urban_data),]</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>urban_data <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="fu">group_by</span>(class) <span class="sc">%&gt;%</span> <span class="co"># group b</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(class, frequency))<span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;burlywood3&quot;</span>)<span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Frequency Distribution of Classes&quot;</span>)<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> frequency,</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>                <span class="at">vjust =</span> <span class="fl">0.001</span>))</span></code></pre></div>
<p><img src="udc_files/figure-html/class-freq-1.svg" width="672" /></p>
<p>The frequency shows there’s a class imbalance, which we have to take
into consideration during data budgeting/splitting</p>
</div>
<div id="data-budgeting" class="section level1">
<h1>Data Budgeting</h1>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">120</span>) <span class="co"># to ensure reproducibility</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>urban_data_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(urban_data,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>                                  <span class="co"># set strata to compensate for class imbalance</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>                                  <span class="at">strata =</span> class, </span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>                                  <span class="at">prop =</span> <span class="fl">0.7</span>)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>urban_train <span class="ot">&lt;-</span> <span class="fu">training</span>(urban_data_split)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>urban_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(urban_data_split)</span></code></pre></div>
<div id="feature-engineering" class="section level3">
<h3>Feature Engineering</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>urban_train_rec <span class="ot">&lt;-</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="fu">recipe</span>(class <span class="sc">~</span>., <span class="at">data =</span> urban_train) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="fu">step_zv</span>(<span class="fu">all_predictors</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="fu">step_nzv</span>(<span class="fu">all_predictors</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>())</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>urban_train_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(urban_train_rec)</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>urban_train_prep</span></code></pre></div>
<pre><code>## </code></pre>
<pre><code>## ── Recipe ──────────────────────────────────────────────────────────────────────</code></pre>
<pre><code>## </code></pre>
<pre><code>## ── Inputs</code></pre>
<pre><code>## Number of variables by role</code></pre>
<pre><code>## outcome:     1
## predictor: 147</code></pre>
<pre><code>## </code></pre>
<pre><code>## ── Training information</code></pre>
<pre><code>## Training data contained 471 data points and no incomplete rows.</code></pre>
<pre><code>## </code></pre>
<pre><code>## ── Operations</code></pre>
<pre><code>## • Zero variance filter removed: &lt;none&gt; | Trained</code></pre>
<pre><code>## • Sparse, unbalanced variable filter removed: &lt;none&gt; | Trained</code></pre>
<pre><code>## • Centering and scaling for: brd_indx, area, round, bright, ... | Trained</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>urban_train_juiced <span class="ot">&lt;-</span> <span class="fu">juice</span>(urban_train_prep)</span></code></pre></div>
</div>
</div>
<div id="build-models" class="section level1">
<h1>Build Models</h1>
<div id="knn-model" class="section level2">
<h2>KNN Model</h2>
<p>KNN Modeling Workflow</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>knn_model <span class="ot">&lt;-</span> <span class="fu">nearest_neighbor</span>(<span class="at">neighbors =</span> <span class="fu">tune</span>(),</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>                              <span class="at">dist_power =</span> <span class="dv">2</span>,</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>                              <span class="at">engine =</span> <span class="st">&quot;kknn&quot;</span>,</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>                              <span class="at">mode =</span> <span class="st">&quot;classification&quot;</span>)</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>knn_workflow <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a>  <span class="fu">add_model</span>(knn_model) <span class="sc">%&gt;%</span> </span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a>  <span class="fu">add_recipe</span>(urban_train_rec)</span></code></pre></div>
</div>
<div id="random-forest" class="section level2">
<h2>Random Forest</h2>
<p>RF Modeling Workflow</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>rf_model <span class="ot">&lt;-</span> <span class="fu">rand_forest</span>(<span class="at">mode =</span> <span class="st">&quot;classification&quot;</span>,</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>                       <span class="at">mtry =</span> <span class="fu">tune</span>(),</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>                       <span class="at">trees =</span> <span class="dv">1000</span>,</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>                       <span class="at">engine =</span> <span class="st">&quot;ranger&quot;</span>,</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>                       <span class="at">min_n =</span> <span class="fu">tune</span>())</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a>rf_workflow <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a>  <span class="fu">add_recipe</span>(urban_train_rec) <span class="sc">%&gt;%</span> </span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a>  <span class="fu">add_model</span>(rf_model)</span></code></pre></div>
</div>
<div id="resamples-for-model-evaluation" class="section level2">
<h2>Resamples for Model Evaluation</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2344</span>)</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>urban_train_resample <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(urban_train, <span class="at">v =</span> <span class="dv">10</span>)</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>urban_train_resample</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["splits"],"name":[1],"type":["list"],"align":["right"]},{"label":["id"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"<S3: vfold_split>","2":"Fold01"},{"1":"<S3: vfold_split>","2":"Fold02"},{"1":"<S3: vfold_split>","2":"Fold03"},{"1":"<S3: vfold_split>","2":"Fold04"},{"1":"<S3: vfold_split>","2":"Fold05"},{"1":"<S3: vfold_split>","2":"Fold06"},{"1":"<S3: vfold_split>","2":"Fold07"},{"1":"<S3: vfold_split>","2":"Fold08"},{"1":"<S3: vfold_split>","2":"Fold09"},{"1":"<S3: vfold_split>","2":"Fold10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="hyparameter-tuning" class="section level1">
<h1>hyparameter Tuning</h1>
<div id="knn-hyperparameter-tuning" class="section level2">
<h2>KNN Hyperparameter Tuning</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2333</span>)</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>doParallel<span class="sc">::</span><span class="fu">registerDoParallel</span>() <span class="co"># for parallel computing</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="co"># hyperparameter tuning</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>knn_tune <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a>  knn_workflow,</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>  <span class="at">resamples =</span> urban_train_resample</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>  )</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a>knn_tune <span class="sc">%&gt;%</span></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a>  <span class="fu">collect_metrics</span>()</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["neighbors"],"name":[1],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[3],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[5],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[6],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"2","2":"accuracy","3":"multiclass","4":"0.7219858","5":"10","6":"0.026825642","7":"Preprocessor1_Model01"},{"1":"2","2":"roc_auc","3":"hand_till","4":"0.9092502","5":"10","6":"0.011349150","7":"Preprocessor1_Model01"},{"1":"3","2":"accuracy","3":"multiclass","4":"0.7219858","5":"10","6":"0.026825642","7":"Preprocessor1_Model02"},{"1":"3","2":"roc_auc","3":"hand_till","4":"0.9293783","5":"10","6":"0.009082214","7":"Preprocessor1_Model02"},{"1":"4","2":"accuracy","3":"multiclass","4":"0.7219858","5":"10","6":"0.026825642","7":"Preprocessor1_Model03"},{"1":"4","2":"roc_auc","3":"hand_till","4":"0.9427616","5":"10","6":"0.009323961","7":"Preprocessor1_Model03"},{"1":"6","2":"accuracy","3":"multiclass","4":"0.7601064","5":"10","6":"0.014843931","7":"Preprocessor1_Model04"},{"1":"6","2":"roc_auc","3":"hand_till","4":"0.9465942","5":"10","6":"0.009324432","7":"Preprocessor1_Model04"},{"1":"7","2":"accuracy","3":"multiclass","4":"0.7685727","5":"10","6":"0.014689830","7":"Preprocessor1_Model05"},{"1":"7","2":"roc_auc","3":"hand_till","4":"0.9473390","5":"10","6":"0.009203353","7":"Preprocessor1_Model05"},{"1":"9","2":"accuracy","3":"multiclass","4":"0.7770833","5":"10","6":"0.018264043","7":"Preprocessor1_Model06"},{"1":"9","2":"roc_auc","3":"hand_till","4":"0.9528214","5":"10","6":"0.008873765","7":"Preprocessor1_Model06"},{"1":"10","2":"accuracy","3":"multiclass","4":"0.7792110","5":"10","6":"0.017683948","7":"Preprocessor1_Model07"},{"1":"10","2":"roc_auc","3":"hand_till","4":"0.9539716","5":"10","6":"0.009012591","7":"Preprocessor1_Model07"},{"1":"11","2":"accuracy","3":"multiclass","4":"0.7813387","5":"10","6":"0.017634696","7":"Preprocessor1_Model08"},{"1":"11","2":"roc_auc","3":"hand_till","4":"0.9563592","5":"10","6":"0.008623665","7":"Preprocessor1_Model08"},{"1":"13","2":"accuracy","3":"multiclass","4":"0.7835106","5":"10","6":"0.018047695","7":"Preprocessor1_Model09"},{"1":"13","2":"roc_auc","3":"hand_till","4":"0.9572675","5":"10","6":"0.008294198","7":"Preprocessor1_Model09"},{"1":"15","2":"accuracy","3":"multiclass","4":"0.7855940","5":"10","6":"0.014966852","7":"Preprocessor1_Model10"},{"1":"15","2":"roc_auc","3":"hand_till","4":"0.9576859","5":"10","6":"0.008324878","7":"Preprocessor1_Model10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>knn_tune <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;accuracy&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["neighbors"],"name":[1],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[3],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[5],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[6],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"15","2":"accuracy","3":"multiclass","4":"0.7855940","5":"10","6":"0.01496685","7":"Preprocessor1_Model10"},{"1":"13","2":"accuracy","3":"multiclass","4":"0.7835106","5":"10","6":"0.01804769","7":"Preprocessor1_Model09"},{"1":"11","2":"accuracy","3":"multiclass","4":"0.7813387","5":"10","6":"0.01763470","7":"Preprocessor1_Model08"},{"1":"10","2":"accuracy","3":"multiclass","4":"0.7792110","5":"10","6":"0.01768395","7":"Preprocessor1_Model07"},{"1":"9","2":"accuracy","3":"multiclass","4":"0.7770833","5":"10","6":"0.01826404","7":"Preprocessor1_Model06"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>knn_tune <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["neighbors"],"name":[1],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[3],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[5],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[6],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"15","2":"roc_auc","3":"hand_till","4":"0.9576859","5":"10","6":"0.008324878","7":"Preprocessor1_Model10"},{"1":"13","2":"roc_auc","3":"hand_till","4":"0.9572675","5":"10","6":"0.008294198","7":"Preprocessor1_Model09"},{"1":"11","2":"roc_auc","3":"hand_till","4":"0.9563592","5":"10","6":"0.008623665","7":"Preprocessor1_Model08"},{"1":"10","2":"roc_auc","3":"hand_till","4":"0.9539716","5":"10","6":"0.009012591","7":"Preprocessor1_Model07"},{"1":"9","2":"roc_auc","3":"hand_till","4":"0.9528214","5":"10","6":"0.008873765","7":"Preprocessor1_Model06"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>knn_tune <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>  <span class="fu">select</span>(neighbors, .metric, mean) <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(neighbors, mean, <span class="at">col =</span> metric))<span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>metric, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>)</span></code></pre></div>
<p><img src="udc_files/figure-html/knn-tuning-1.svg" width="672" /></p>
<p>The accuracy and area under the curve improved between 10 and 14
neighbors. These values will be used for as the tune values.</p>
</div>
<div id="knn-hyperparameter-grid-search" class="section level2">
<h2>KNN Hyperparameter grid search</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>knn_grid_search <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>  <span class="fu">neighbors</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">14</span>)),</span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a>  <span class="at">levels =</span> <span class="dv">5</span></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>  )</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a>knn_tune_grid <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(</span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a>  knn_workflow,</span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a>  <span class="at">resamples =</span> urban_train_resample,</span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a>  <span class="at">grid =</span> knn_grid_search</span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a>)</span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a><span class="fu">autoplot</span>(knn_tune_grid, <span class="at">metric =</span> <span class="st">&quot;roc_auc&quot;</span>)<span class="sc">+</span></span>
<span id="cb37-13"><a href="#cb37-13" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Nearest Neighbor&quot;</span>,</span>
<span id="cb37-14"><a href="#cb37-14" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;roc_auc&quot;</span>,</span>
<span id="cb37-15"><a href="#cb37-15" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Area under curve based on Nearest neighbor&quot;</span>)</span></code></pre></div>
<p><img src="udc_files/figure-html/unnamed-chunk-3-1.svg" width="672" /></p>
<p>The figure above shows how auc improves as the neighbors increases.
The table below show the best number of neighbors to use for a the model
using roc_auc as the metric of evaluation.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>knn_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["neighbors"],"name":[1],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[3],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[5],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[6],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"14","2":"roc_auc","3":"hand_till","4":"0.9573448","5":"10","6":"0.008354617","7":"Preprocessor1_Model5"},{"1":"13","2":"roc_auc","3":"hand_till","4":"0.9572675","5":"10","6":"0.008294198","7":"Preprocessor1_Model4"},{"1":"11","2":"roc_auc","3":"hand_till","4":"0.9563592","5":"10","6":"0.008623665","7":"Preprocessor1_Model2"},{"1":"12","2":"roc_auc","3":"hand_till","4":"0.9562976","5":"10","6":"0.008695642","7":"Preprocessor1_Model3"},{"1":"10","2":"roc_auc","3":"hand_till","4":"0.9539716","5":"10","6":"0.009012591","7":"Preprocessor1_Model1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>knn_best_auc <span class="ot">&lt;-</span> knn_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>  <span class="fu">select_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
</div>
<div id="rf-hyperparameter-tuning" class="section level2">
<h2>RF Hyperparameter Tuning</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">234</span>)</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>rf_tune <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(</span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>  rf_workflow,</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a>  <span class="at">resamples =</span> urban_train_resample,</span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a>  <span class="at">grid =</span> <span class="dv">20</span></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## i Creating pre-processing data to finalize unknown parameter: mtry</code></pre>
<p>We can choose the best value to use either using accuracy as the
metric or using roc_auc as the metric of model evaluation.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>rf_tune <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>  <span class="fu">collect_metrics</span>()</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mtry"],"name":[1],"type":["int"],"align":["right"]},{"label":["min_n"],"name":[2],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[3],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[4],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[6],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[7],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"7","2":"2","3":"accuracy","4":"multiclass","5":"0.8366135","6":"10","7":"0.012523451","8":"Preprocessor1_Model01"},{"1":"7","2":"2","3":"roc_auc","4":"hand_till","5":"0.9757506","6":"10","7":"0.007374222","8":"Preprocessor1_Model01"},{"1":"99","2":"16","3":"accuracy","4":"multiclass","5":"0.8408688","6":"10","7":"0.020737544","8":"Preprocessor1_Model02"},{"1":"99","2":"16","3":"roc_auc","4":"hand_till","5":"0.9782085","6":"10","7":"0.004681429","8":"Preprocessor1_Model02"},{"1":"34","2":"29","3":"accuracy","4":"multiclass","5":"0.8324468","6":"10","7":"0.017502973","8":"Preprocessor1_Model03"},{"1":"34","2":"29","3":"roc_auc","4":"hand_till","5":"0.9740585","6":"10","7":"0.006021949","8":"Preprocessor1_Model03"},{"1":"73","2":"36","3":"accuracy","4":"multiclass","5":"0.8324468","6":"10","7":"0.019668068","8":"Preprocessor1_Model04"},{"1":"73","2":"36","3":"roc_auc","4":"hand_till","5":"0.9743920","6":"10","7":"0.005556778","8":"Preprocessor1_Model04"},{"1":"66","2":"24","3":"accuracy","4":"multiclass","5":"0.8388298","6":"10","7":"0.020091868","8":"Preprocessor1_Model05"},{"1":"66","2":"24","3":"roc_auc","4":"hand_till","5":"0.9753210","6":"10","7":"0.005420220","8":"Preprocessor1_Model05"},{"1":"59","2":"27","3":"accuracy","4":"multiclass","5":"0.8303191","6":"10","7":"0.021283244","8":"Preprocessor1_Model06"},{"1":"59","2":"27","3":"roc_auc","4":"hand_till","5":"0.9736844","6":"10","7":"0.006149359","8":"Preprocessor1_Model06"},{"1":"147","2":"8","3":"accuracy","4":"multiclass","5":"0.8387411","6":"10","7":"0.017290871","8":"Preprocessor1_Model07"},{"1":"147","2":"8","3":"roc_auc","4":"hand_till","5":"0.9776945","6":"10","7":"0.005358896","8":"Preprocessor1_Model07"},{"1":"45","2":"19","3":"accuracy","4":"multiclass","5":"0.8409574","6":"10","7":"0.019846279","8":"Preprocessor1_Model08"},{"1":"45","2":"19","3":"roc_auc","4":"hand_till","5":"0.9753847","6":"10","7":"0.005543055","8":"Preprocessor1_Model08"},{"1":"122","2":"10","3":"accuracy","4":"multiclass","5":"0.8386968","6":"10","7":"0.016769209","8":"Preprocessor1_Model09"},{"1":"122","2":"10","3":"roc_auc","4":"hand_till","5":"0.9791751","6":"10","7":"0.004645355","8":"Preprocessor1_Model09"},{"1":"137","2":"4","3":"accuracy","4":"multiclass","5":"0.8408245","6":"10","7":"0.016778580","8":"Preprocessor1_Model10"},{"1":"137","2":"4","3":"roc_auc","4":"hand_till","5":"0.9781480","6":"10","7":"0.005496201","8":"Preprocessor1_Model10"},{"1":"29","2":"7","3":"accuracy","4":"multiclass","5":"0.8451684","6":"10","7":"0.019351624","8":"Preprocessor1_Model11"},{"1":"29","2":"7","3":"roc_auc","4":"hand_till","5":"0.9759783","6":"10","7":"0.005986586","8":"Preprocessor1_Model11"},{"1":"114","2":"33","3":"accuracy","4":"multiclass","5":"0.8302748","6":"10","7":"0.017178978","8":"Preprocessor1_Model12"},{"1":"114","2":"33","3":"roc_auc","4":"hand_till","5":"0.9741882","6":"10","7":"0.005468038","8":"Preprocessor1_Model12"},{"1":"16","2":"13","3":"accuracy","4":"multiclass","5":"0.8324025","6":"10","7":"0.015461389","8":"Preprocessor1_Model13"},{"1":"16","2":"13","3":"roc_auc","4":"hand_till","5":"0.9747532","6":"10","7":"0.006623310","8":"Preprocessor1_Model13"},{"1":"87","2":"32","3":"accuracy","4":"multiclass","5":"0.8281915","6":"10","7":"0.019162886","8":"Preprocessor1_Model14"},{"1":"87","2":"32","3":"roc_auc","4":"hand_till","5":"0.9750425","6":"10","7":"0.005413723","8":"Preprocessor1_Model14"},{"1":"41","2":"27","3":"accuracy","4":"multiclass","5":"0.8345745","6":"10","7":"0.015788109","8":"Preprocessor1_Model15"},{"1":"41","2":"27","3":"roc_auc","4":"hand_till","5":"0.9735865","6":"10","7":"0.006782551","8":"Preprocessor1_Model15"},{"1":"94","2":"14","3":"accuracy","4":"multiclass","5":"0.8387855","6":"10","7":"0.020418750","8":"Preprocessor1_Model16"},{"1":"94","2":"14","3":"roc_auc","4":"hand_till","5":"0.9778170","6":"10","7":"0.004886000","8":"Preprocessor1_Model16"},{"1":"75","2":"39","3":"accuracy","4":"multiclass","5":"0.8303191","6":"10","7":"0.019300197","8":"Preprocessor1_Model17"},{"1":"75","2":"39","3":"roc_auc","4":"hand_till","5":"0.9727752","6":"10","7":"0.005701986","8":"Preprocessor1_Model17"},{"1":"128","2":"37","3":"accuracy","4":"multiclass","5":"0.8238475","6":"10","7":"0.015768101","8":"Preprocessor1_Model18"},{"1":"128","2":"37","3":"roc_auc","4":"hand_till","5":"0.9737861","6":"10","7":"0.005536633","8":"Preprocessor1_Model18"},{"1":"105","2":"19","3":"accuracy","4":"multiclass","5":"0.8387411","6":"10","7":"0.020239383","8":"Preprocessor1_Model19"},{"1":"105","2":"19","3":"roc_auc","4":"hand_till","5":"0.9782570","6":"10","7":"0.004685549","8":"Preprocessor1_Model19"},{"1":"15","2":"22","3":"accuracy","4":"multiclass","5":"0.8345301","6":"10","7":"0.014907221","8":"Preprocessor1_Model20"},{"1":"15","2":"22","3":"roc_auc","4":"hand_till","5":"0.9728469","6":"10","7":"0.007748822","8":"Preprocessor1_Model20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The best 5 values for mtry and min_n combination when grid is set to
20 is show below</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>rf_tune <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mtry"],"name":[1],"type":["int"],"align":["right"]},{"label":["min_n"],"name":[2],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[3],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[4],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[6],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[7],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"122","2":"10","3":"roc_auc","4":"hand_till","5":"0.9791751","6":"10","7":"0.004645355","8":"Preprocessor1_Model09"},{"1":"105","2":"19","3":"roc_auc","4":"hand_till","5":"0.9782570","6":"10","7":"0.004685549","8":"Preprocessor1_Model19"},{"1":"99","2":"16","3":"roc_auc","4":"hand_till","5":"0.9782085","6":"10","7":"0.004681429","8":"Preprocessor1_Model02"},{"1":"137","2":"4","3":"roc_auc","4":"hand_till","5":"0.9781480","6":"10","7":"0.005496201","8":"Preprocessor1_Model10"},{"1":"94","2":"14","3":"roc_auc","4":"hand_till","5":"0.9778170","6":"10","7":"0.004886000","8":"Preprocessor1_Model16"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>rf_tune <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a>  <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">&quot;roc_auc&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>  <span class="fu">select</span>(mtry, min_n, mean) <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(mtry<span class="sc">:</span>min_n,</span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a>               <span class="at">names_to =</span><span class="st">&quot;parameter&quot;</span>,</span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(values, mean, <span class="at">col =</span> parameter))<span class="sc">+</span></span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>parameter, <span class="at">scales =</span> <span class="st">&quot;free_x&quot;</span>)</span></code></pre></div>
<p><img src="udc_files/figure-html/tune-viz-1.svg" width="672" /></p>
<p>As seen above, the best tune value is between 4 to 10 for min_n and
130 to 147 for mtry. We tune again using the combination of these
values</p>
</div>
<div id="rf-tuning-with-grid-search" class="section level2">
<h2>RF Tuning with Grid Search</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">345</span>)</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>rf_grid <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>  <span class="fu">mtry</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">130</span>, <span class="dv">147</span>)),</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>  <span class="fu">min_n</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">10</span>)),</span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>  <span class="at">levels =</span> <span class="dv">5</span></span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a>  )</span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a>rf_grid</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mtry"],"name":[1],"type":["int"],"align":["right"]},{"label":["min_n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"130","2":"4"},{"1":"134","2":"4"},{"1":"138","2":"4"},{"1":"142","2":"4"},{"1":"147","2":"4"},{"1":"130","2":"5"},{"1":"134","2":"5"},{"1":"138","2":"5"},{"1":"142","2":"5"},{"1":"147","2":"5"},{"1":"130","2":"7"},{"1":"134","2":"7"},{"1":"138","2":"7"},{"1":"142","2":"7"},{"1":"147","2":"7"},{"1":"130","2":"8"},{"1":"134","2":"8"},{"1":"138","2":"8"},{"1":"142","2":"8"},{"1":"147","2":"8"},{"1":"130","2":"10"},{"1":"134","2":"10"},{"1":"138","2":"10"},{"1":"142","2":"10"},{"1":"147","2":"10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>rf_grid displays the number of combination of mtry and min_n to fit
through to get the best roc_auc</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>rf_tune_grid <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(rf_workflow,</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>                            <span class="at">resamples =</span> urban_train_resample,</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a>                            <span class="at">grid =</span> rf_grid</span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a>                            )</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>rf_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a>  <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">&quot;roc_auc&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a>  <span class="fu">select</span>(mtry, min_n, mean) <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">min_n =</span> <span class="fu">factor</span>(min_n)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(mtry, mean, <span class="at">col =</span> min_n))<span class="sc">+</span></span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="udc_files/figure-html/unnamed-chunk-9-1.svg" width="672" /></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>rf_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mtry"],"name":[1],"type":["int"],"align":["right"]},{"label":["min_n"],"name":[2],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[3],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[4],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[6],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[7],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"134","2":"4","3":"roc_auc","4":"hand_till","5":"0.9804402","6":"10","7":"0.004493096","8":"Preprocessor1_Model02"},{"1":"147","2":"4","3":"roc_auc","4":"hand_till","5":"0.9793723","6":"10","7":"0.004753112","8":"Preprocessor1_Model05"},{"1":"147","2":"8","3":"roc_auc","4":"hand_till","5":"0.9790963","6":"10","7":"0.004763780","8":"Preprocessor1_Model20"},{"1":"138","2":"4","3":"roc_auc","4":"hand_till","5":"0.9790433","6":"10","7":"0.005006948","8":"Preprocessor1_Model03"},{"1":"142","2":"4","3":"roc_auc","4":"hand_till","5":"0.9790431","6":"10","7":"0.004456670","8":"Preprocessor1_Model04"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>rf_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>  <span class="fu">show_best</span>(<span class="st">&quot;accuracy&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mtry"],"name":[1],"type":["int"],"align":["right"]},{"label":["min_n"],"name":[2],"type":["int"],"align":["right"]},{"label":[".metric"],"name":[3],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[4],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[6],"type":["int"],"align":["right"]},{"label":["std_err"],"name":[7],"type":["dbl"],"align":["right"]},{"label":[".config"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"142","2":"4","3":"accuracy","4":"multiclass","5":"0.8450798","6":"10","7":"0.01640340","8":"Preprocessor1_Model04"},{"1":"130","2":"5","3":"accuracy","4":"multiclass","5":"0.8450798","6":"10","7":"0.01787095","8":"Preprocessor1_Model06"},{"1":"142","2":"8","3":"accuracy","4":"multiclass","5":"0.8450798","6":"10","7":"0.01640340","8":"Preprocessor1_Model19"},{"1":"134","2":"4","3":"accuracy","4":"multiclass","5":"0.8429965","6":"10","7":"0.01698515","8":"Preprocessor1_Model02"},{"1":"147","2":"7","3":"accuracy","4":"multiclass","5":"0.8429965","6":"10","7":"0.01698515","8":"Preprocessor1_Model15"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>best_tune_auc <span class="ot">&lt;-</span> rf_tune_grid <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a>  <span class="fu">select_best</span>(<span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
</div>
<div id="create-workflow-for-using-best-values" class="section level2">
<h2>Create workflow for using Best Values</h2>
<p>knn</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a>knn_final_model <span class="ot">&lt;-</span> </span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>  <span class="fu">finalize_model</span>(</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a>    knn_model,</span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a>    knn_best_auc</span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a>    )</span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a>knn_final_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a>  <span class="fu">add_recipe</span>(urban_train_rec) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a>  <span class="fu">add_model</span>(knn_final_model) </span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a>knn_final_res <span class="ot">&lt;-</span> knn_final_wf <span class="sc">%&gt;%</span> </span>
<span id="cb51-12"><a href="#cb51-12" tabindex="-1"></a>  <span class="fu">last_fit</span>(urban_data_split)</span></code></pre></div>
<p>rf</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>rf_final_model <span class="ot">&lt;-</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a>  <span class="fu">finalize_model</span>(</span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a>    rf_model,</span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a>    best_tune_auc</span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a>  )</span></code></pre></div>
<div id="feature-importance" class="section level3">
<h3>Feature importance</h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>rf_final_model <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">&quot;ranger&quot;</span>, <span class="at">importance =</span><span class="st">&quot;permutation&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a>  <span class="fu">fit</span>(class <span class="sc">~</span> .,</span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a>      <span class="at">data =</span> urban_train) <span class="sc">%&gt;%</span> </span>
<span id="cb53-5"><a href="#cb53-5" tabindex="-1"></a>  <span class="fu">vip</span>(<span class="at">geom =</span> <span class="st">&quot;point&quot;</span>)</span></code></pre></div>
<p><img src="udc_files/figure-html/feature-importance-1.svg" width="672" /></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>rf_final_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>  <span class="fu">add_recipe</span>(urban_train_rec) <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>  <span class="fu">add_model</span>(rf_final_model)</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>rf_final_res <span class="ot">&lt;-</span> rf_final_wf <span class="sc">%&gt;%</span> </span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>  <span class="fu">last_fit</span>(urban_data_split)</span></code></pre></div>
</div>
</div>
</div>
<div id="model-evaluation" class="section level1">
<h1>Model Evaluation</h1>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a>knn_final_res <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prediction =</span> <span class="fu">ifelse</span>(class <span class="sc">==</span>.pred_class, <span class="st">&quot;correct&quot;</span>, <span class="st">&quot;wrong&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a>  <span class="fu">bind_cols</span>(urban_test) <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(ndvi, mean_g, <span class="at">col =</span> prediction))<span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code></pre></div>
<pre><code>## New names:
## • `class` -&gt; `class...13`
## • `class` -&gt; `class...16`</code></pre>
<p><img src="udc_files/figure-html/unnamed-chunk-12-1.svg" width="672" /></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a>knn_predict <span class="ot">&lt;-</span> knn_final_res <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>rf_final_res <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prediction=</span> <span class="fu">if_else</span>(class <span class="sc">==</span> .pred_class, <span class="st">&quot;correct&quot;</span>, <span class="st">&quot;wrong&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" tabindex="-1"></a>  <span class="fu">bind_cols</span>(urban_test) <span class="sc">%&gt;%</span> </span>
<span id="cb58-5"><a href="#cb58-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(ndvi,mean_g, <span class="at">color =</span>prediction))<span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code></pre></div>
<pre><code>## New names:
## • `class` -&gt; `class...13`
## • `class` -&gt; `class...16`</code></pre>
<p><img src="udc_files/figure-html/unnamed-chunk-14-1.svg" width="672" /></p>
<p>The number of wrong prediction reduces while using randomForest</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>rf_predict <span class="ot">&lt;-</span> rf_final_res <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span></code></pre></div>
<div id="confusion-matrix" class="section level2">
<h2>Confusion Matrix</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="fu">conf_mat</span>(knn_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<pre><code>##           Truth
## Prediction asphalt building car concrete grass pool shadow soil tree
##   asphalt       13        1   0        0     0    0      0    0    0
##   building       0       31   0        1     1    2      0    2    0
##   car            0        0  11        0     0    0      0    0    0
##   concrete       1        5   0       35     3    0      0    1    0
##   grass          0        1   0        0    27    0      0    2    4
##   pool           0        0   1        0     0    4      0    0    0
##   shadow         3        0   0        0     0    0     14    0    0
##   soil           0        2   2        0     1    0      0    4    0
##   tree           0        0   0        0     6    0      0    0   25</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="fu">conf_mat</span>(rf_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<pre><code>##           Truth
## Prediction asphalt building car concrete grass pool shadow soil tree
##   asphalt       14        1   0        0     0    0      1    0    0
##   building       0       35   0        2     0    0      0    2    0
##   car            0        0  11        0     0    0      0    0    0
##   concrete       0        3   3       34     0    0      0    0    0
##   grass          0        0   0        0    33    0      0    0    2
##   pool           0        0   0        0     0    6      0    0    0
##   shadow         2        0   0        0     0    0     13    0    1
##   soil           1        1   0        0     0    0      0    7    0
##   tree           0        0   0        0     5    0      0    0   26</code></pre>
</div>
<div id="sensitivity" class="section level2">
<h2>Sensitivity</h2>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="do">## Knn</span></span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a><span class="fu">sens</span>(knn_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"sens","2":"macro","3":"0.7757054"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="do">## random forest</span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="fu">sens</span>(rf_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"sens","2":"macro","3":"0.8777789"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="accuracy" class="section level2">
<h2>Accuracy</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="fu">accuracy</span>(knn_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"accuracy","2":"multiclass","3":"0.8078818"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="fu">accuracy</span>(rf_predict, <span class="at">truth =</span> class, <span class="at">estimate =</span> pred_class)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"accuracy","2":"multiclass","3":"0.8817734"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>Both algorithms were able to produce reliable predictions for the
urban class. The random forest algorithm model confusion matrix show
little misclassification, better sensitivity and accuracy compared to
knn algorithm model. If this is to be deployed into production the
randomForest model should be choosen.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
